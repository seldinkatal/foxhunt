<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MudletPackage>
<MudletPackage version="1.001">
	<TriggerPackage>
		<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
			<name>Battlerage Ability Regain</name>
			<script>local defs = system.hunting.defs
local vars = system.hunting.vars
local funcs = system.hunting.funcs

local ability = string.lower(matches[2])
local class = funcs.getClass()

if defs.classRage[class] then
	for type,info in pairs(defs.classRage[class]) do
		if string.lower(info.name) == ability then
			vars.brBal[class][type] = true

			if vars.brBalTimers[class .. "_" .. type] then
				killTimer(vars.brBalTimers[class .. "_" .. type])
				vars.brBalTimers[class .. "_" .. type] = nil
			end
			break
		end
	end
end</script>
			<triggerType>0</triggerType>
			<conditonLineDelta>0</conditonLineDelta>
			<mStayOpen>0</mStayOpen>
			<mCommand></mCommand>
			<packageName></packageName>
			<mFgColor>#ff0000</mFgColor>
			<mBgColor>#ffff00</mBgColor>
			<mSoundFile></mSoundFile>
			<colorTriggerFgColor>#000000</colorTriggerFgColor>
			<colorTriggerBgColor>#000000</colorTriggerBgColor>
			<regexCodeList>
				<string>^Your (\w+) ability could be used again</string>
				<string>^You can use (\w+) again\.$</string>
			</regexCodeList>
			<regexCodePropertyList>
				<integer>1</integer>
				<integer>1</integer>
			</regexCodePropertyList>
		</Trigger>
	</TriggerPackage>
</MudletPackage>
